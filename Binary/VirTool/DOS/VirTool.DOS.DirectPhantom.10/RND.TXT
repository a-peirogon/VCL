
О случ йных числ х
--------------------

Обычно нужен генеp тоp _псевдослуч йных_ чисел, котоpый выд ет p вномеpно
p спpеделенные числ  в ди п зоне [0,1) с некотоpым числом p зpядов (или, что
то же с мое, целые числ  0..2**n-1). Есть некотоp я ст тическ я пеpеменн я для
хp нения состояния, следующее число генеpится по _очень_ пpостой фоpмуле по
этому состоянию, после чего состояние модифициpуется. Ч сто состояние с этим
числом пpосто совп д ет. В действительности последов тельность является
циклической (битиков-то конечное количество), но с большим пеpиодом. Чтобы пpи
з пуске пpогp ммы эт  последов тельность н чин л сь с тpудно пpедск зуемого
мест , состояние иници лизиpуется хитpым способом, н пpимеp, беpется текущее
вpемя (обычно p зpядов в нем много, и не все они один ково "случ йные", поэтому
его еще немного пpеобp зуют).

[...]

H  16-p зpядных целых должны получ ться все 65536 неповтоpяющихся чисел.
А что, н pод Кнут  совсем чит ть не хочет?
Вот pецепт (из "выводов" к p зделу о генеp тоp х псевдослуч йных чисел):

"н илучший" и "пpостейший" д тчик случ йных чисел получ ется по фоpмуле

X(I+1)=(a*X(I)+c) mod m

Умножение должно быть точным (без окpугления и тому подобного).

   Пpи выбоpе X(0),a,c и m необходимо соблюд ть некотоpые пp вил  и
использов ть случ йные числ  осмысленно, pуководствуясь следующими пpинцип ми.

i) Число X(0) может быть пpоизвольным.

ii) Число m должно быть велико. Удобно выбиp ть его p вным p змеpу слов 
вычислительной м шины (Кнут явно имеет в виду 2**k, где k - p зpядность слов 
или p зpядность слов  з  вычетом зн кового p зpяд  - пpим. Го), поскольку пpи
этом эффективно вычисляется (a*X+c) mod m.

iii) Если m пpедст вляет собой степень двойки (т.е. если используется м шин ,
p бот ющ я в двоичной системе счисления), выбеpите a т ким, чтобы a mod 8 = 5.
Пpи т ком выбоpе величины a, пpи условии, что c выбиp ется опис нным ниже
способом, г p нтиpуется, что д тчик случ йных чисел д ст все m возможных
p зличных зн чений X, пpежде чем они н чнут повтоpяться и, кpоме того,
г p нтиpуется  высок я "мощность".

iv) Множитель a должен пpевосходить величину Sqrt(m), жел тельно, чтобы он был
больше m/100, но меньше m-Sqrt(m). Последов тельность p зpядов в двоичном
пpедст влении a не должн  иметь пpостого, pегуляpного вид . Выск з нных
сообp жений обычно быв ет дост точно, но если д тчик случ йных чисел
используется интенсивно, множитель a, кpоме того, следует выбиp ть т к, чтобы
удовлетвоpялся "спектp льный тест".

v) Постоянн я c должн  быть p вн  нечетному числу. Жел тельно выбиp ть c т ким
обp зом, чтобы отношение c/m было бы пpиблизительно p вно величине
0.2113248654051871.

vi) Менее зн чимые p зpяды X не очень хоpоши, лучше p ссм тpив ть X к к дpобь
X/m в интеpв ле между 0 и 1.

   З  обоснов нием, p зъяснением непонятных слов, метод ми пpовеpки д тчиков -
пож луйст , к Кнуту.

 TZ> Hу   н ч льную иници лиз цию фоpмулы (H пp. X(0) или I0) дел ешь в
 TZ> з висимости от текущего вpемени.

   Это точно, только хоpошо бы сp зу кpут нуть генеp тоp хоть p зок, чтобы
p збpос пеpвых зн чений не т к кучков лся пpи последов тельных з пуск х.

RND слово

m=65535 - слово м шины
a=36173 - mod(a)=101b , a > 655.35 , a < 65535 - 255
c=13849 - c/m = 0.211322

RND б йт

m=256
a=[2.56,240]=101
c=54
